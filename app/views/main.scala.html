@import org.maproulette.session.User
@import org.maproulette.actions.Actions
@(user:User, debugMode:Boolean, parentId:Long=(-1), taskId:Long=(-1))(implicit messages: Messages, req: play.api.mvc.RequestHeader, webJarAssets: WebJarAssets)
@minified() = {@{debugMode match { case true => "-debug"; case false => "" }}}
<link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/mapping.css")"/>
<link rel="stylesheet" href="@routes.WebJarAssets.at(webJarAssets.locate("leaflet.css"))"/>
<script src="@routes.WebJarAssets.at(webJarAssets.locate("leaflet.js"))"></script>

<div id="map"></div>
<div id="information" class="modal hide">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Help</h4>
            </div>
            <div class="modal-body">
                <p>One fine body&hellip;</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div id="editoptions" class="modal fade modal-primary" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="box box-solid box-primary" align="center">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <div class="box-body">
                    <label>Edit Options</label>
                </div>
                <div class="box-footer">
            </div>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<script src="@routes.Assets.versioned("javascripts/mapping.js")"></script>
<script>
    $(document).ready(function() {
        MRManager.init('map', new Point(@{user.osmProfile.homeLocation.latitude}, @{user.osmProfile.homeLocation.longitude}))
        MRManager.addTaskToMap(@parentId, @taskId);
    });
</script>
